{"version":3,"file":"index.04b4e637.js","sources":["../../src/layout/components/SubSidebar/index.vue"],"sourcesContent":["<script setup name=\"SubSidebar\">\nimport Logo from '../Logo/index.vue'\nimport SidebarItem from '../SidebarItem/index.vue'\n\nimport useSettingsStore from '@/store/modules/settings'\nconst settingsStore = useSettingsStore()\nimport useMenuStore from '@/store/modules/menu'\nconst menuStore = useMenuStore()\n\nconst sidebarScrollTop = ref(0)\n\nfunction onSidebarScroll(e) {\n    sidebarScrollTop.value = e.target.scrollTop\n}\n</script>\n\n<template>\n    <div v-if=\"['side', 'head', 'single'].includes(settingsStore.menu.menuMode) || settingsStore.mode === 'mobile'\" class=\"sub-sidebar-container\" :class=\"{'is-collapse': settingsStore.mode === 'pc' && settingsStore.menu.subMenuCollapse}\" @scroll=\"onSidebarScroll\">\n        <Logo\n            :show-logo=\"settingsStore.menu.menuMode === 'single'\" :class=\"{\n                'sidebar-logo': true,\n                'sidebar-logo-bg': settingsStore.menu.menuMode === 'single',\n                'shadow': sidebarScrollTop\n            }\"\n        />\n        <!-- 侧边栏模式（无主导航） -->\n        <el-menu\n            :unique-opened=\"settingsStore.menu.subMenuUniqueOpened\" :default-openeds=\"menuStore.defaultOpenedPaths\" :default-active=\"$route.meta.activeMenu || $route.path\" :collapse=\"settingsStore.mode === 'pc' && settingsStore.menu.subMenuCollapse\" :collapse-transition=\"false\" :class=\"{\n                'is-collapse-without-logo': settingsStore.menu.menuMode !== 'single' && settingsStore.menu.subMenuCollapse\n            }\"\n        >\n            <transition-group name=\"sub-sidebar\">\n                <template v-for=\"(route, index) in menuStore.sidebarMenus\">\n                    <SidebarItem v-if=\"route.meta.sidebar !== false\" :key=\"route.path || index\" :item=\"route\" :base-path=\"route.path\" />\n                </template>\n            </transition-group>\n        </el-menu>\n    </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.sub-sidebar-container {\n    overflow-x: hidden;\n    overflow-y: auto;\n    overscroll-behavior: contain;\n    // firefox隐藏滚动条\n    scrollbar-width: none;\n    // chrome隐藏滚动条\n    &::-webkit-scrollbar {\n        display: none;\n    }\n\n    width: var(--g-sub-sidebar-width);\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    background-color: var(--g-sub-sidebar-bg);\n    box-shadow: 10px 0 10px -10px var(--g-box-shadow-color);\n    transition: background-color 0.3s, var(--el-transition-box-shadow), left 0.3s, width 0.3s;\n    &.is-collapse {\n        width: 64px;\n        .sidebar-logo {\n            &:not(.sidebar-logo-bg) {\n                display: none;\n            }\n            :deep(span) {\n                display: none;\n            }\n        }\n    }\n    .sidebar-logo {\n        transition: box-shadow 0.2s, background-color 0.3s, color 0.3s;\n        background-color: var(--g-sub-sidebar-bg);\n        &:not(.sidebar-logo-bg) {\n            :deep(span) {\n                color: var(--g-sub-sidebar-menu-color);\n            }\n        }\n        &.sidebar-logo-bg {\n            background-color: var(--g-main-sidebar-bg);\n        }\n        &.shadow {\n            box-shadow: 0 10px 10px -10px var(--g-box-shadow-color);\n        }\n    }\n    .el-menu {\n        border-right: 0;\n        padding-top: var(--g-sidebar-logo-height);\n        transition: border-color 0.3s, background-color 0.3s, color 0.3s, padding-top 0.3s;\n        background-color: var(--g-sub-sidebar-bg);\n        &:not(.el-menu--collapse) {\n            width: inherit;\n        }\n        &.is-collapse-without-logo {\n            padding-top: 0;\n        }\n        &.el-menu--collapse {\n            :deep(.title-icon) {\n                margin-right: 0;\n            }\n            :deep(.el-menu-item),\n            :deep(.el-sub-menu__title) {\n                span,\n                .el-sub-menu__icon-arrow {\n                    display: none;\n                }\n            }\n        }\n        &.menu-radius:not(.el-menu--collapse) {\n            .sidebar-item {\n                padding: 0 10px;\n                &:first-child {\n                    padding-top: 10px;\n                }\n                &:last-child {\n                    padding-bottom: 10px;\n                }\n            }\n            :deep(.el-menu--inline),\n            :deep(.el-menu-item),\n            :deep(.el-sub-menu__title) {\n                border-radius: 10px;\n            }\n        }\n    }\n}\n// 次侧边栏动画\n.sub-sidebar-enter-active {\n    transition: opacity 0.3s, transform 0.3s;\n}\n.sub-sidebar-enter-from,\n.sub-sidebar-leave-active {\n    opacity: 0;\n    transform: translateY(30px) skewY(10deg);\n}\n.sub-sidebar-leave-active {\n    position: absolute;\n}\n</style>\n"],"names":["settingsStore","useSettingsStore","menuStore","useMenuStore","sidebarScrollTop","ref","onSidebarScroll","e","value","target","scrollTop"],"mappings":"ojBAKA,MAAAA,EAAAC,IAEAC,EAAAC,IAEAC,EAAAC,EAAA,GAEA,SAAAC,EAAAC,GACAH,EAAAI,MAAAD,EAAAE,OAAAC"}